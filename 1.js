var et=Object.defineProperty;var L=(t,e)=>{for(var r in e)et(t,r,{get:e[r],enumerable:!0})};var I={};L(I,{BLOCK_NODE:()=>g,COMMENT_NODE:()=>v,DECLARATION_KEY_NODE:()=>b,DECLARATION_VALUE_NODE:()=>k,SELECTOR_NODE:()=>P,SEPARATOR_NODE:()=>F,STYLESHEET_NODE:()=>R,WHITESPACE_NODE:()=>S});var R=0,S=1,v=2,P=3,b=4,k=5,g=6,F=7;var H=["	",`
`,"\f","\r"," "];var y=[":","{"];var rt=(t,e,r,i,u,X)=>{for(var Z=0,o=e.children,a=e,f=0,s=-1,E=0,O=0,c=0,x=0,h=0,m=0,w=0,l="",p="",n="",d=e.WHITESPACE,tt=e.DEFINITION_OF_VALUE,C=!1,A=null,D=null,lt="",T=0;r<i;)if(n=t[r],f===0)T&&n==="}"?(l&&(o.push(a.whitespace(u,l)),l=""),o=(a=a.parent).children,T--,r++):d.includes(n)?(l+=n,r++):(l&&(o.push(a.whitespace(u,l)),l=""),f=n==="/"&&t[r+1]==="*"?(r+=2,2):1);else if(f===1){do{if(l+=n,++r>=i){s=-1;break}n=t[r]}while((s=tt.indexOf(n))===-1&&r<i);for(E=O=r++-1;d.includes(t[E]);)E--;E<O?(w=l.length-O+E,p=l.substring(w),l=l.substring(0,w)):p="",s===0?(o.push(a.declaration_key(u,l,null)),l="",p&&(p=(o.push(a.whitespace(u,p)),"")),o.push(a.colon(u,a)),f=3):s===1?(o.push(a.selector(u,l,null)),l="",p&&(p=(o.push(a.whitespace(u,p)),"")),A=new X,D=a.block(u,A),T++,o.push(D),a=D,o=A,f=0):(o.push(a.selector(u,l,null)),l="",p="",f=0)}else if(f===2){for(s=r;s<i&&!(t[s]==="*"&&t[s+1]==="/");)s++;o.push(a.comment(u,t.substring(r,s))),r=s+2,f=0}else if(f===3){for(s=r;s<i&&d.includes(t[s]);)s++;for(s>r&&o.push(a.whitespace(u,t.substring(r,s))),c=s;s<i&&t[s]!==";"&&t[s]!=="}";)s++;for(h=(x=s)-1;h>=c&&d.includes(t[h]);)h--;C=h>=c,m=C?h+1:c,o.push(a.declaration_value(u,t.substring(c,m),null)),m<x&&o.push(a.whitespace(u,t.substring(m,x))),s<i&&t[s]===";"?(o.push(a.semicolon(u,a)),r=s+1):r=s,f=0}return l&&o.push(a.whitespace(u,l)),Z};var N={};L(N,{BLOCK_NODE:()=>g,COMMENT_NODE:()=>v,DECLARATION_KEY_NODE:()=>b,DECLARATION_VALUE_NODE:()=>k,DEFINITION_OF_VALUE:()=>y,NodeType:()=>I,SELECTOR_NODE:()=>P,SEPARATOR_NODE:()=>F,STYLESHEET_NODE:()=>R,WHITESPACE:()=>H,WHITESPACE_NODE:()=>S,block:()=>M,colon:()=>U,comment:()=>$,declaration_key:()=>Y,declaration_value:()=>B,reduce_sm_to_string:()=>J,selector:()=>K,semicolon:()=>V,to_string_map:()=>G,whitespace:()=>W});var U=function(t,e){return new t(this.SEPARATOR_NODE,":",null,e)};var V=function(t,e){return new t(this.SEPARATOR_NODE,";",null,e)};var W=function(t,e){return new t(this.WHITESPACE_NODE,e,null,this)};var K=function(t,e,r){return new t(this.SELECTOR_NODE,e,r,this)};var M=function(t,e){return new t(this.BLOCK_NODE,"",e,this)};var Y=function(t,e,r){return new t(this.DECLARATION_KEY_NODE,e,r,this)};var B=function(t,e,r){return new t(this.DECLARATION_VALUE_NODE,e,r,this)};var $=function(t,e){return new t(this.COMMENT_NODE,e,null,this)};var j=function(){return this.children.reduce(this.reduce_sm_to_string,"")};var _=function(){return this.data};var z=function(){return`{${this.children.reduce(this.reduce_sm_to_string,"")}}`};var q=function(){return`/*${this.data}*/`};var G={0:j,1:_,2:q,3:_,4:_,5:_,6:z,7:_};var J=(t,e)=>t+e.to_string();function Q(t,e,r,i){this.type=t,this.data=e,this.children=r,this.parent=i,this.to_string=this.to_string_map[t]}Q.prototype=N;var st=Q;var at=(t,e)=>new t(0,"",e,null);export{g as BLOCK_NODE,v as COMMENT_NODE,b as DECLARATION_KEY_NODE,k as DECLARATION_VALUE_NODE,y as DEFINITION_OF_VALUE,st as Node,I as NodeType,P as SELECTOR_NODE,F as SEPARATOR_NODE,R as STYLESHEET_NODE,H as WHITESPACE,S as WHITESPACE_NODE,rt as parse,at as stylesheet};
//# sourceMappingURL=1.js.map
